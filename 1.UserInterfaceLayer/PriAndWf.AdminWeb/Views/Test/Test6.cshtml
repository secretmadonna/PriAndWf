
@{
    ViewBag.Title = "测试：回车事件发起新请求";
}

@section PagePluginStyles{
}
@section PageInlineStyles{
}


<div class="row">
    @using (Ajax.BeginForm("Test6", "Test", new { }, new AjaxOptions() { HttpMethod = "Post", }, new { @class = "form-horizontal", onkeydown = "if(event.keyCode==13){return false;}" }))
    {
        <fieldset>
            @*<input type="text" style="display:none;" />*@
            <div class="form-group">
                <label class="control-label col-sm-3">显示字段</label>
                <div class="col-sm-9">
                    <p class="form-control-static">显示字段的值</p>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3" for="keyWords">文本字段</label>
                <div class="col-sm-9">
                    <div>
                        <input type="text" class="form-control" id="keyWords" name="keyWords" placeholder="文本字段的placeholder" />
                    </div>
                    <span class="help-block">文本字段的输入提示</span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-3 col-sm-9">
                    <button type="submit" class="btn btn-default">提交</button>
                </div>
            </div>
        </fieldset>
    }
</div>


@section PagePluginScripts{
}
@section PageInlineScripts{
    <script>
        $(function () {
            //解决办法1.去掉输入框回车事件
            //$("#KeyWords").on("keydown", function (e) {
            //    if (e.keyCode === 13) {
            //        return false;
            //    }
            //});
            //解决办法2.去掉全局回车事件
            //$(document).on("keydown", function (e) {
            //    if (e.keyCode === 13) {
            //        return false;
            //    }
            //});
            //解决办法3.form加入onsubmit="return false;"
            //解决办法4.form中加入<input type="text" style="display:none;" />
        });
    </script>
}
